(e,l,g,f,m){function r(a){a.beginPath();a.arc(b/2,c-d-1,d,0,Math.PI);a.lineTo(1,d+1);a.arc(b/2,d+1,d,Math.PI,0);a.lineTo(b-1,c-d-1);a.clip();a.lineWidth=Math.floor(e/20);a.strokeStyle=t}var n=document.createElement("canvas"),h=n.getContext("2d"),p=document.createElement("canvas"),a=p.getContext("2d"),k=document.createElement("canvas"),u=k.getContext("2d"),b=2+e/4,c=2+e/2,d=e/8,q=Math.ceil(e/16),v=5*b+4*q,t="rgb("+m.join()+")";k.width=v;k.height=c;n.width=b;n.height=c;p.width=b;p.height=c;r(h);h.stroke();m=h.getImageData(0,0,b,c);a.fillStyle=t;f&&(a.fillStyle="#FF3B30");g&&(a.fillStyle="#4CD964");r(a);a.fill();a.stroke();g=a.getImageData(0,0,b,c);for(a=0;5>a;a++)l<=20*a?f=m:l>=20*(a+1)?f=g:(u.putImageData(g,a*(b+q),0),f=h.getImageData(0,0,b,(c-6)*(1-(l-20*a)/20)+3)),u.putImageData(f,a*(b+q),0);return k.toDataURL("image/png")}